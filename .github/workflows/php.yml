name: PHP Deployment

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

permissions:
  contents: read

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v4

    - name: Set up PHP
      uses: shivammathur/setup-php@v2
      with:
        php-version: '7.4' # Adjust this based on your PHP version

    - name: Display PHP Version
      run: php -v

    - name: Check for .env file
      run: |
        if [ ! -f .env ]; then
          echo ".env file is missing" && exit 1
        else
          echo ".env file is present"
        fi
    - name: Run a basic PHP script
      run: php -r "echo 'PHP environment is set up correctly';"
